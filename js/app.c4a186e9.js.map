{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/AuthWarning.vue","webpack:///./src/components/AuthWarning.vue?f8ca","webpack:///./src/components/AuthWarning.vue?20b5","webpack:///./src/App.vue?791b","webpack:///./src/App.vue","webpack:///./src/App.vue?3acc","webpack:///./src/App.vue?dfb6","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?d5e7","webpack:///./src/views/Home.vue?ab8c","webpack:///./src/views/Configuration.vue","webpack:///./src/components/ConfigInput.vue","webpack:///./src/components/ConfigInput.vue?8d2b","webpack:///./src/components/ConfigInput.vue?d252","webpack:///./src/views/Configuration.vue?706d","webpack:///./src/views/Configuration.vue?2fd0","webpack:///./src/router/index.ts","webpack:///./src/store/index.ts","webpack:///./src/main.ts","webpack:///./src/services/AuthService.ts","webpack:///./src/plugins/Auth.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","configured","to","setup","render","id","class","href","components","AuthWarning","authorized","user","fullName","for","config","proxy","aria-describedby","host","tenant","username","password","icon","save","label","login","getToken","toast","store","auth","state","setConfig","add","severity","summary","detail","life","ConfigInput","routes","path","component","Home","Configuration","router","history","mutations","actions","app","App","use","ripple","directive","mount","MIN_TTL_MS","body","fetchWithDefaults","method","headers","res","json","email","roles","token","refreshToken","validForMinutes","validFor","validFrom","Date","now","validUntil","fetchWithToken","init","fullUrl","fullTarget","defaults","Accept","fetch","catch","reason","ok","status","text","statusText","authSymbol","provideAuth","useAuth"],"mappings":"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","file":"js/app.c4a186e9.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"indexes\":\"indexes\",\"oai-pmh\":\"oai-pmh\",\"search\":\"search\"}[chunkId]||chunkId) + \".\" + {\"indexes\":\"646f342b\",\"oai-pmh\":\"7066de6f\",\"search\":\"7c22f9b9\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/preservica-api-demo/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","<template>\n  <p v-if=\"!configured\">\n    You need to <router-link to=\"/config\">configure this demo</router-link> to access your data.\n  </p>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from 'vue';\nimport {useAuth} from '@/plugins/Auth';\n\nexport default defineComponent({\n  setup() {\n    const {configured} = useAuth();\n    return {configured};\n  },\n});\n</script>\n","\nimport {defineComponent} from 'vue';\nimport {useAuth} from '@/plugins/Auth';\n\nexport default defineComponent({\n  setup() {\n    const {configured} = useAuth();\n    return {configured};\n  },\n});\n","import { render } from \"./AuthWarning.vue?vue&type=template&id=6aa879c0\"\nimport script from \"./AuthWarning.vue?vue&type=script&lang=ts\"\nexport * from \"./AuthWarning.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=742cfc54&lang=scss\"","<template>\n  <div id=\"nav\">\n    <router-link to=\"/\">home</router-link>\n    |\n    <router-link to=\"/config\">configuration</router-link>\n    |\n    <router-link to=\"/indexes\">indexed fields</router-link>\n    |\n    <router-link to=\"/search\">search</router-link>\n    |\n    <router-link to=\"/oai-pmh\">oai-pmh</router-link>\n  </div>\n  <router-view id=\"view\" />\n  <Toast />\n</template>\n\n<script lang=\"ts\">\nimport {provideAuth} from '@/plugins/Auth';\n\nexport default {\n  setup() {\n    provideAuth();\n  },\n};\n</script>\n\n<style lang=\"scss\">\n#view {\n}\n\n.intro {\n  margin: auto;\n  max-width: 600px;\n}\n\n.json,\n.xml {\n  display: block;\n  font-family: Monaco, 'lucida console', Consolas, monospace;\n  font-size: 0.7em;\n  overflow: scroll;\n  text-align: left;\n  unicode-bidi: embed;\n  white-space: pre;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n#nav {\n  padding: 30px;\n\n  a {\n    font-weight: bold;\n    color: #2c3e50;\n\n    &.router-link-exact-active {\n      color: #42b983;\n    }\n  }\n}\n</style>\n","\nimport {provideAuth} from '@/plugins/Auth';\n\nexport default {\n  setup() {\n    provideAuth();\n  },\n};\n","import { render } from \"./App.vue?vue&type=template&id=742cfc54\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&id=742cfc54&lang=scss\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"home intro\">\n    <h1>Preservica APIs demo</h1>\n    <p>\n      This is a (work in progress) kitchen sink showing various usage examples for some of\n      <a href=\"https://developers.preservica.com/api-reference\">the Preservica APIs.</a>\n    </p>\n    <p>This application runs in your browser.</p>\n    <AuthWarning />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from 'vue';\nimport AuthWarning from '@/components/AuthWarning.vue';\n\nexport default defineComponent({\n  name: 'Home',\n  components: {AuthWarning},\n});\n</script>\n","\nimport {defineComponent} from 'vue';\nimport AuthWarning from '@/components/AuthWarning.vue';\n\nexport default defineComponent({\n  name: 'Home',\n  components: {AuthWarning},\n});\n","import { render } from \"./Home.vue?vue&type=template&id=5a3f7df8\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"configuration intro\">\n    <h1>Configuration</h1>\n\n    <ConfigInput />\n\n    <h2 v-if=\"!configured\">Please complete the form and hit \"Save\" or \"Log in\"</h2>\n    <h2 v-if=\"authorized\">Welcome, {{ user.fullName }}</h2>\n\n    <p>The Preservica APIs needs authorization, even for anonymous access.</p>\n    <p>\n      When logged in to Preservica SaaS, the session cookie\n      <a href=\"https://eu.preservica.com/OAI-PMH/?verb=Identify\">will be used</a> when accessing the\n      APIs in a browser directly. But for most use cases, a successful login on\n      <a href=\"https://developers.preservica.com/api-reference/6-access-token-api\"\n        >the Access Token API</a\n      >\n      is required and yields an access token and a refresh token. An access token is valid for 15\n      minutes and can be used in an HTTP header. However, the refresh token is valid for the same\n      short period as the access token (and can only be used once), so is only useful when\n      continuously accessing the API. In this demo the refresh token is ignored, and instead a new\n      login is performed whenever the access token has expired.\n    </p>\n    <p>\n      A token can also be generated through the externally authenticated acquisition API. This\n      allows a trusted external application to acquire Preservica access rights without being\n      authenticated by Preservica. See the documentation linked above.\n    </p>\n    <p>\n      <s\n        >The resulting access token can also (for a short time) be used in\n        <a href=\"https://eu.preservica.com/api/content/documentation.html\"\n          >the Swagger UI interface</a\n        >\n        (adjust URL to match your SaaS domain).</s\n      >\n    </p>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent} from 'vue';\nimport {useAuth} from '@/plugins/Auth';\nimport ConfigInput from '@/components/ConfigInput.vue';\n\nexport default defineComponent({\n  setup() {\n    const {configured, authorized, user} = useAuth();\n    return {configured, authorized, user};\n  },\n  components: {ConfigInput},\n});\n</script>\n","<template>\n  <div class=\"configinput\">\n    <h2>Server and credentials</h2>\n\n    <div class=\"p-fluid p-formgrid p-grid p-text-left\">\n      <div class=\"p-field p-col-12\">\n        <label for=\"proxy\">CORS proxy</label>\n        <InputText id=\"proxy\" type=\"text\" v-model=\"config.proxy\" aria-describedby=\"proxy-help\" />\n        <small id=\"proxy-help\">\n          This demo runs in your browser, but the Preservica APIs do not support\n          <a href=\"https://developer.mozilla.org/docs/Web/HTTP/CORS\">CORS</a>. A proxy server can\n          add CORS headers to use a browser on a different domain. The full API URL will be appended\n          without any encoding.\n          <strong>A third-party proxy may log your credentials.</strong>\n        </small>\n      </div>\n      <div class=\"p-field p-col-12\">\n        <label for=\"host\">API host</label>\n        <InputText id=\"host\" type=\"text\" v-model=\"config.host\" />\n      </div>\n\n      <div class=\"p-field p-col-12 p-md-3\">\n        <label for=\"tenant\">Tenant</label>\n        <InputText id=\"tenant\" type=\"text\" v-model=\"config.tenant\" />\n      </div>\n      <div class=\"p-field p-col-12 p-md-5\">\n        <label for=\"username\">Username</label>\n        <InputText id=\"username\" type=\"text\" v-model=\"config.username\" />\n      </div>\n      <div class=\"p-field p-col-12 p-md-4\">\n        <label for=\"password\">Password</label>\n        <InputText id=\"password\" type=\"password\" v-model=\"config.password\" />\n      </div>\n    </div>\n\n    <Button\n      icon=\"pi pi-save\"\n      @click=\"save\"\n      label=\"Save\"\n      v-tooltip.top=\"'Set the configuration, but do not log in yet'\"\n    />\n    &nbsp;\n    <Button\n      icon=\"pi pi-user\"\n      @click=\"login\"\n      label=\"Log in\"\n      v-tooltip.top=\"'Set the configuration and log in'\"\n    />\n    &nbsp;\n    <Button\n      icon=\"pi pi-lock\"\n      @click=\"getToken\"\n      label=\"Get token\"\n      v-tooltip.top=\"'Show the current token, or refresh if needed'\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {defineComponent, ref} from 'vue';\nimport {useStore} from 'vuex';\nimport {useToast} from 'primevue/usetoast';\nimport {Config} from '@/store';\nimport {useAuth} from '@/plugins/Auth';\n\nexport default defineComponent({\n  setup() {\n    const toast = useToast();\n    const store = useStore();\n    const auth = useAuth();\n    const config = ref<Config>(store.state.config);\n\n    const save = async () => {\n      auth.setConfig(config.value);\n      toast.add({\n        severity: 'info',\n        summary: 'Saved config',\n        detail: 'But not logging in yet',\n        life: 3000,\n      });\n    };\n\n    const login = async () => {\n      toast.add({\n        severity: 'info',\n        summary: 'Logging in',\n        detail: config.value.username,\n        life: 3000,\n      });\n      await auth.login(config.value);\n    };\n\n    const getToken = async () => {\n      const t = await auth.getToken();\n      toast.add({severity: 'info', summary: 'Token', detail: t});\n    };\n\n    return {config, save, login, getToken};\n  },\n});\n</script>\n","\nimport {defineComponent, ref} from 'vue';\nimport {useStore} from 'vuex';\nimport {useToast} from 'primevue/usetoast';\nimport {Config} from '@/store';\nimport {useAuth} from '@/plugins/Auth';\n\nexport default defineComponent({\n  setup() {\n    const toast = useToast();\n    const store = useStore();\n    const auth = useAuth();\n    const config = ref<Config>(store.state.config);\n\n    const save = async () => {\n      auth.setConfig(config.value);\n      toast.add({\n        severity: 'info',\n        summary: 'Saved config',\n        detail: 'But not logging in yet',\n        life: 3000,\n      });\n    };\n\n    const login = async () => {\n      toast.add({\n        severity: 'info',\n        summary: 'Logging in',\n        detail: config.value.username,\n        life: 3000,\n      });\n      await auth.login(config.value);\n    };\n\n    const getToken = async () => {\n      const t = await auth.getToken();\n      toast.add({severity: 'info', summary: 'Token', detail: t});\n    };\n\n    return {config, save, login, getToken};\n  },\n});\n","import { render } from \"./ConfigInput.vue?vue&type=template&id=5dfc14a1\"\nimport script from \"./ConfigInput.vue?vue&type=script&lang=ts\"\nexport * from \"./ConfigInput.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","\nimport {defineComponent} from 'vue';\nimport {useAuth} from '@/plugins/Auth';\nimport ConfigInput from '@/components/ConfigInput.vue';\n\nexport default defineComponent({\n  setup() {\n    const {configured, authorized, user} = useAuth();\n    return {configured, authorized, user};\n  },\n  components: {ConfigInput},\n});\n","import { render } from \"./Configuration.vue?vue&type=template&id=189bd01a\"\nimport script from \"./Configuration.vue?vue&type=script&lang=ts\"\nexport * from \"./Configuration.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import {createRouter, createWebHistory, RouteRecordRaw} from 'vue-router';\nimport Home from '@/views/Home.vue';\nimport Configuration from '@/views/Configuration.vue';\n\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n  },\n  {\n    path: '/config',\n    name: 'Configuration',\n    component: Configuration,\n  },\n  // Route level code-splitting; this generates a separate chunk (indexes.[hash].js) for this route\n  // which is lazy-loaded when the route is visited.\n  {\n    path: '/indexes',\n    name: 'Indexed fields',\n    component: () => import(/* webpackChunkName: \"indexes\" */ '../views/Indexes.vue'),\n  },\n  {\n    path: '/oai-pmh',\n    name: 'OAI-PMH',\n    component: () => import(/* webpackChunkName: \"oai-pmh\" */ '../views/OaiPmh.vue'),\n  },\n  {\n    path: '/search',\n    name: 'Search',\n    component: () => import(/* webpackChunkName: \"search\" */ '../views/Search.vue'),\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes,\n});\n\nexport default router;\n","import {createStore} from 'vuex';\n\nexport interface Config {\n  proxy: string;\n  host: string;\n  username: string;\n  password: string;\n  tenant: string;\n}\n\nexport default createStore({\n  state: {\n    config: {\n      // The URL will be appended without any URL encoding. This needs to support complex values:\n      // resumptionToken=metadataPrefix%3DXIP%26from%3D2020-01-01T00%3A00%3A00Z%26until%3D2030-12-31T23%3A59%3A59Z%26change%3D34312625\n      proxy: 'https://proxy.arjanvanbentem.nl/',\n      // With trailing slash\n      host: 'https://eu.preservica.com/',\n      username: '',\n      password: '',\n      tenant: '',\n    } as Config,\n  },\n  mutations: {\n    setConfig(state, config: Config) {\n      // TODO check/add trailing slashes?\n      state.config = config;\n    },\n  },\n  actions: {},\n  modules: {},\n});\n","import {createApp} from 'vue';\nimport Accordion from 'primevue/accordion';\nimport AccordionTab from 'primevue/accordiontab';\nimport Button from 'primevue/button';\nimport Checkbox from 'primevue/checkbox';\nimport Column from 'primevue/column';\nimport ColumnGroup from 'primevue/columngroup';\nimport DataTable from 'primevue/datatable';\nimport Dropdown from 'primevue/dropdown';\nimport InputText from 'primevue/inputtext';\nimport MultiSelect from 'primevue/multiselect';\nimport Password from 'primevue/password';\nimport PrimeVue from 'primevue/config';\nimport Toast from 'primevue/toast';\nimport ToastService from 'primevue/toastservice';\nimport Tooltip from 'primevue/tooltip';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\n\nimport 'primeflex/primeflex.css';\nimport 'primeicons/primeicons.css';\nimport 'primevue/resources/themes/saga-blue/theme.css';\nimport 'primevue/resources/primevue.min.css';\n\nconst app = createApp(App);\n\napp.use(store);\napp.use(router);\napp.use(PrimeVue, {ripple: true});\napp.use(ToastService);\n\napp.component('Accordion', Accordion);\napp.component('AccordionTab', AccordionTab);\napp.component('Button', Button);\napp.component('Column', Column);\napp.component('ColumnGroup', ColumnGroup);\napp.component('Checkbox', Checkbox);\napp.component('DataTable', DataTable);\napp.component('Dropdown', Dropdown);\napp.component('InputText', InputText);\napp.component('MultiSelect', MultiSelect);\napp.component('Password', Password);\napp.component('Toast', Toast);\n\napp.directive('tooltip', Tooltip);\n\napp.mount('#app');\n","/**\n * Authenticate on the Preservica Access Token API and provide helpers for HTTP calls with an\n * authorization header and some default header values.\n *\n * All class methods use arrow function expressions to ensure `this` is preserved and destructuring\n * works, like:\n *\n * ```typescript\n * const {configured, fetchWithToken} = useAuth();\n * ```\n *\n * @see https://developers.preservica.com/api-reference/6-access-token-api\n */\n\n// TODO Module not found: Error: [CaseSensitivePathsPlugin] `[..]/node_modules/primevue/useToast.js`\n// does not match the corresponding path on disk `usetoast.js`.\nimport {useToast} from 'primevue/usetoast';\nimport {ref} from 'vue';\nimport {Config} from '@/store';\n\n/**\n * The minimum remaining lifetime before a token is considered expired.\n */\nconst MIN_TTL_MS = 60 * 1000;\n\nexport interface AuthenticatedUser {\n  // In the SaaS installation, user is really just the email address\n  user: string;\n  fullName: string;\n  email: string;\n  roles: string[];\n  token: string;\n  // This is named \"refresh-token\" in the Preservica API response\n  refreshToken: string;\n  validForMinutes: number;\n  validFrom: number;\n  validUntil: number;\n}\n\nexport class AuthService {\n  private toast = useToast();\n  // TODO get from store\n  private config?: Config;\n\n  user = ref<AuthenticatedUser | undefined>(undefined);\n\n  /**\n   * Indicate if some configuration was set. This does not imply it is actually valid.\n   */\n  configured = ref(false);\n\n  /**\n   * Indicate if a successful authorization has occurred.\n   */\n  authorized = ref(false);\n\n  setConfig = (config: Config) => {\n    this.config = config;\n    this.configured.value = true;\n    this.authorized.value = false;\n  };\n\n  login = async (config?: Config) => {\n    if (config) {\n      this.setConfig(config);\n    }\n\n    this.authorized.value = false;\n\n    const c = this.config;\n    // TODO percent-encode\n    const body = `username=${c?.username}&password=${c?.password}&tenant=${c?.tenant}&includeUserDetails=true`;\n    const res = await this.fetchWithDefaults('api/accesstoken/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: body,\n    });\n\n    const json = await res.json();\n\n    this.user.value = {\n      user: json.user,\n      fullName: json.fullName,\n      email: json.email,\n      roles: json.roles,\n      token: json.token,\n      refreshToken: json['refresh-token'],\n      validForMinutes: json.validFor,\n      validFrom: Date.now(),\n      validUntil: Date.now() + json.validFor * 60 * 1000,\n    };\n\n    this.authorized.value = true;\n\n    this.toast.add({\n      severity: 'success',\n      summary: 'Got new token',\n      detail: this.user.value.token,\n      life: 2000,\n    });\n  };\n\n  getToken = async (): Promise<string> => {\n    if (!this.config) {\n      this.toast.add({\n        severity: 'error',\n        summary: 'Not configured',\n        detail: 'You need to set the configuration first',\n      });\n      throw 'No credentials set';\n    }\n    // TODO we could actually refresh asynchronously and return the old token if time permits?\n    if (!this.user.value || this.user.value.validUntil - Date.now() < MIN_TTL_MS) {\n      await this.login();\n    }\n    if (!this.user.value) {\n      // Actually, login will already have thrown\n      throw 'Failed to authenticate';\n    }\n    return this.user.value.token;\n  };\n\n  /**\n   * Enhance the given fetch request with a `Preservica-Access-Token` header (refreshing the token\n   * if needed), expanding the path to include the base host and optional CORS proxy server, and\n   * reporting errors in a toast.\n   *\n   * @param path the path to fetch (a full RequestInfo is not supported here)\n   * @param init as in regular invocation of fetch\n   */\n  fetchWithToken = async (path: string, init?: RequestInit): Promise<Response> => {\n    const token = await this.getToken();\n    return this.fetchWithDefaults(path, init, token);\n  };\n\n  private fullUrl = (path: string) => {\n    const fullTarget = this.config?.host + path;\n    if (this.config?.proxy) {\n      // Just append, without any encoding\n      return `${this.config?.proxy}${fullTarget}`;\n    }\n    return fullTarget;\n  };\n\n  private fetchWithDefaults = async (\n    path: string,\n    init?: RequestInit,\n    token?: string\n  ): Promise<Response> => {\n    const defaults = {\n      headers: {\n        Accept: 'application/json',\n      },\n    };\n\n    const res = await fetch(this.fullUrl(path), {\n      ...defaults,\n      ...init,\n      headers: {\n        ...defaults.headers,\n        ...init?.headers,\n        // Leave out if not given; override even if already set\n        ...(token ? {'Preservica-Access-Token': token} : null),\n      },\n    }).catch((reason) => {\n      // For security reasons, specifics about what went wrong with a CORS request are not available\n      // to JavaScript code. All the code knows is that an error occurred. The only way to determine\n      // what specifically went wrong is to look at the browser's console for details.\n      this.toast.add({\n        severity: 'error',\n        summary: 'Failed to connect to proxy or server',\n        detail: reason,\n      });\n      throw new Error('Failed to connect to proxy or Preservica server');\n    });\n\n    if (!res.ok) {\n      this.toast.add({\n        severity: 'error',\n        // HTTP/2 connections do not support res.statusText\n        // See also https://fetch.spec.whatwg.org/#concept-response-status-message\n        summary: `Error ${res.status}`,\n        detail: (await res.text()) || path,\n        // Set some max lifetime, as very wide error messages may hide the toast's close button\n        life: 30000,\n      });\n      console.error(res);\n      throw new Error(res.statusText);\n    }\n\n    return res;\n  };\n}\n","/**\n * Provide global access to authorization state and API helpers.\n */\nimport {inject, provide} from 'vue';\nimport {AuthService} from '@/services/AuthService';\n\nconst authSymbol = Symbol();\n\nexport function provideAuth() {\n  provide(authSymbol, new AuthService());\n}\n\nexport function useAuth(): AuthService {\n  const auth = inject<AuthService>(authSymbol);\n  if (!auth) {\n    throw Error('plugins/Auth not provided');\n  }\n  return auth;\n}\n"],"sourceRoot":""}