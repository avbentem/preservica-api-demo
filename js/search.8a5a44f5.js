(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["search"],{"2d3b":function(e,t,a){"use strict";a.r(t);a("ac1f"),a("841c");var c=a("7a23"),o=Object(c["withScopeId"])("data-v-24f6af26");Object(c["pushScopeId"])("data-v-24f6af26");var r={class:"search intro"},n=Object(c["createVNode"])("h1",null,"Search",-1),d=Object(c["createVNode"])("p",null,[Object(c["createTextVNode"])(" Search could be performed using either CMIS or the API, but to use facets "),Object(c["createVNode"])("a",{href:"https://developers.preservica.com/api-reference/8-content-api"},"the Content API"),Object(c["createTextVNode"])(" is used. ")],-1),l={key:0},u={class:"p-fluid p-formgrid p-grid p-text-left"},s={class:"p-field p-col-12"},i=Object(c["createVNode"])("label",{for:"query"},"Query",-1),p={class:"p-field p-col-6 p-lg-2 p-sm-6"},b=Object(c["createVNode"])("label",{for:"start"},"Start",-1),f={class:"p-field p-col-6 p-lg-2 p-sm-6"},j=Object(c["createVNode"])("label",{for:"max"},"Max results",-1),m={class:"p-field p-col-12 p-lg-8 p-md-12"},O=Object(c["createVNode"])("label",{for:"metadata"},"Metadata",-1),v=Object(c["createVNode"])("br",null,null,-1),V={key:1},N={class:"json"};Object(c["popScopeId"])();var h=o((function(e,t,a,h,x,y){var g=Object(c["resolveComponent"])("AuthWarning"),k=Object(c["resolveComponent"])("Textarea"),w=Object(c["resolveComponent"])("InputText"),C=Object(c["resolveComponent"])("Button"),S=Object(c["resolveComponent"])("AccordionTab"),I=Object(c["resolveComponent"])("Accordion");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])("div",r,[n,d,Object(c["createVNode"])(g)]),e.configured?(Object(c["openBlock"])(),Object(c["createBlock"])("div",l,[Object(c["createVNode"])("div",u,[Object(c["createVNode"])("div",s,[i,Object(c["createVNode"])(k,{id:"query",modelValue:e.query,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.query=t}),rows:"10",autoResize:!0,spellcheck:"false"},null,8,["modelValue"])]),Object(c["createVNode"])("div",p,[b,Object(c["createVNode"])(w,{id:"start",type:"number",modelValue:e.start,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.start=t})},null,8,["modelValue"])]),Object(c["createVNode"])("div",f,[j,Object(c["createVNode"])(w,{id:"max",type:"number",modelValue:e.max,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.max=t})},null,8,["modelValue"])]),Object(c["createVNode"])("div",m,[O,Object(c["createVNode"])(w,{id:"metadata",type:"text",modelValue:e.metadata,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.metadata=t})},null,8,["modelValue"])])]),v,Object(c["createVNode"])(C,{icon:"pi pi-play",onClick:e.search,label:"Search"},null,8,["onClick"])])):Object(c["createCommentVNode"])("",!0),e.json?(Object(c["openBlock"])(),Object(c["createBlock"])("div",V,[Object(c["createVNode"])(I,null,{default:o((function(){return[Object(c["createVNode"])(S,{header:"JSON"},{default:o((function(){return[Object(c["createVNode"])("div",N,Object(c["toDisplayString"])(e.json),1)]})),_:1})]})),_:1})])):Object(c["createCommentVNode"])("",!0)],64)})),x=(a("99af"),a("96cf"),a("1da1")),y=a("34f5"),g=a("d0f2"),k=Object(c["defineComponent"])({components:{AuthWarning:y["a"]},setup:function(){var e=Object(g["b"])(),t=e.configured,a=e.fetchWithToken,o=Object(c["ref"])(void 0),r=Object(c["ref"])(0),n=Object(c["ref"])(10),d=Object(c["ref"])(""),l=Object(c["ref"])('{\n  "q": "",\n  "facets": [ "oai_dc.date" ],\n  "facet.oai_dc.date.range": [\n    ["*", "", "Pre November 2020"],\n    ["2020-11-01", "", "Post November 2020"]\n  ],\n  "fields": [\n    { "name": "xip.title", "values": [] },\n    { "name": "xip.document_type", "values": [] }\n  ],\n  "sort": [\n    { "sortFields": ["xip.document_type"], "sortOrder": "desc" }\n  ]\n}'),u=function(){var e=Object(x["a"])(regeneratorRuntime.mark((function e(){var t,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.value=void 0,t="q=".concat(l.value,"&start=").concat(r.value,"&max=").concat(n.value,"&metadata=").concat(d.value),e.next=4,a("api/content/search",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t});case 4:return c=e.sent,e.next=7,c.json();case 7:o.value=e.sent;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{configured:t,query:l,start:r,max:n,metadata:d,search:u,json:o}}});a("df26");k.render=h,k.__scopeId="data-v-24f6af26";t["default"]=k},"3af1":function(e,t,a){},df26:function(e,t,a){"use strict";a("3af1")}}]);
//# sourceMappingURL=search.8a5a44f5.js.map