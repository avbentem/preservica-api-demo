(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["indexes"],{"00dc":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return o}));n("99af"),n("4160"),n("a15b"),n("d81d"),n("13d5"),n("b0c0"),n("ac1f"),n("5319"),n("1276"),n("159b"),n("96cf");var r=n("1da1"),a=n("7a23"),c=n("d0f2"),i=[{name:"Top-level list",code:"top-level-list"},{name:"Search",code:"search"},{name:"Search within",code:"search-within"},{name:"Object children",code:"object-children"}],l=/^sdb:[IS]O\|[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,u=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function o(){var e=Object(c["b"])(),t=e.fetchWithToken,n=Object(a["B"])({q:"",fields:[{name:"xip.title",values:[""]},{name:"xip.description",values:[""]},{name:"xip.document_type",values:["IO"]},{name:"xip.format_group_r_Display",values:[]},{name:"xip.created",values:[]}],sort:[{sortFields:["xip.created"],sortOrder:"desc"}],facets:["xip.created","xip.format_group_r_Display"],"facet.xip.created.range":[["*","","Pre 2015"],["2015-01-01","","2015"],["2016-01-01","","2016"],["2017-01-01","","2017"],["2018-01-01","","2018"],["2019-01-01","","2019"],["2020-01-01","","2020"],["2021-01-01","*","2021 and later"]]}),i=Object(a["B"])(void 0),l=Object(a["B"])(void 0),u=Object(a["B"])(n.value.fields.map((function(e){return e.name})).join()),o=Object(a["B"])(0),d=Object(a["B"])(10),s=Object(a["B"])("search"),f=Object(a["B"])(),b=Object(a["B"])(),p=Object(a["B"])(void 0),h=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t("api/content/indexed-fields");case 2:return n=e.sent,e.next=5,n.json();case 5:return i.value=e.sent.value,l.value=i.value.reduce((function(e,t){return e[t.shortKey]=t,e}),{}),e.abrupt("return",i.value);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var r,a,c,i,l,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p.value=void 0,a=encodeURIComponent(f.value||""),c="search-within"===s.value?"&parenthierarchy=".concat(a):"",i="object-children"===s.value?"&id=".concat(a):"",l="q=".concat(JSON.stringify(n.value),"&start=").concat(o.value,"&max=").concat(d.value,"&metadata=").concat(encodeURIComponent(u.value)).concat(c).concat(i),e.next=7,t("api/content/".concat(s.value),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l});case 7:return h=e.sent,e.next=10,h.json();case 10:p.value=e.sent.value,null===(r=p.value.facets)||void 0===r||r.forEach((function(e){e.terms.forEach((function(e){e.name=e.name.split(" ")[0],e.displayName=e.displayName.replace(/^_.*? /,"")}))})),b.value=p.value.facets.reduce((function(e,t){return e[t.name]=t.terms.reduce((function(e,n){var r,a;return e[n.name]=null!==(r=null===(a=b.value)||void 0===a?void 0:a[t.name][n.name])&&void 0!==r?r:null,e}),{}),e}),{});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{getIndexedFields:h,indexedFields:i,indexedFieldsLookup:l,searchType:s,searchParent:f,query:n,metadata:u,start:o,max:d,facetsTermsStates:b,search:m,result:p}}},1276:function(e,t,n){"use strict";var r=n("d784"),a=n("44e7"),c=n("825a"),i=n("1d80"),l=n("4840"),u=n("8aa5"),o=n("50c4"),d=n("14c3"),s=n("9263"),f=n("d039"),b=[].push,p=Math.min,h=4294967295,m=!f((function(){return!RegExp(h,"y")}));r("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(i(this)),c=void 0===n?h:n>>>0;if(0===c)return[];if(void 0===e)return[r];if(!a(e))return t.call(r,e,c);var l,u,o,d=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,m=new RegExp(e.source,f+"g");while(l=s.call(m,r)){if(u=m.lastIndex,u>p&&(d.push(r.slice(p,l.index)),l.length>1&&l.index<r.length&&b.apply(d,l.slice(1)),o=l[0].length,p=u,d.length>=c))break;m.lastIndex===l.index&&m.lastIndex++}return p===r.length?!o&&m.test("")||d.push(""):d.push(r.slice(p)),d.length>c?d.slice(0,c):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var a=i(this),c=void 0==t?void 0:t[e];return void 0!==c?c.call(t,a,n):r.call(String(a),t,n)},function(e,a){var i=n(r,e,this,a,r!==t);if(i.done)return i.value;var s=c(e),f=String(this),b=l(s,RegExp),v=s.unicode,O=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(m?"y":"g"),j=new b(m?s:"^(?:"+s.source+")",O),g=void 0===a?h:a>>>0;if(0===g)return[];if(0===f.length)return null===d(j,f)?[f]:[];var x=0,y=0,w=[];while(y<f.length){j.lastIndex=m?y:0;var I,S=d(j,m?f:f.slice(y));if(null===S||(I=p(o(j.lastIndex+(m?0:y)),f.length))===x)y=u(f,y,v);else{if(w.push(f.slice(x,y)),w.length===g)return w;for(var k=1;k<=S.length-1;k++)if(w.push(S[k]),w.length===g)return w;y=x=I}}return w.push(f.slice(x)),w}]}),!m)},"13d5":function(e,t,n){"use strict";var r=n("23e7"),a=n("d58f").left,c=n("a640"),i=n("ae40"),l=n("2d00"),u=n("605d"),o=c("reduce"),d=i("reduce",{1:0}),s=!u&&l>79&&l<83;r({target:"Array",proto:!0,forced:!o||!d||s},{reduce:function(e){return a(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"212d":function(e,t,n){"use strict";var r=n("7a23"),a={class:"p-d-flex p-jc-end"},c={class:"p-input-icon-left"},i=Object(r["m"])("i",{class:"pi pi-search"},null,-1);function l(e,t,n,l,u,o){var d=Object(r["E"])("InputText"),s=Object(r["E"])("Column"),f=Object(r["E"])("DataTable");return e.fields?(Object(r["w"])(),Object(r["h"])(f,{key:0,value:e.fields,selection:e.selection,"onUpdate:selection":t[2]||(t[2]=function(t){return e.setSelection(t)}),autoLayout:!0,responsiveLayout:"scroll",sortMode:"multiple",multiSortMeta:e.multiSortMeta,filters:e.filters,class:"p-datatable-sm"},{header:Object(r["P"])((function(){return[Object(r["m"])("div",a,[Object(r["m"])("span",c,[i,Object(r["m"])(d,{modelValue:e.filters["global"].value,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filters["global"].value=t}),placeholder:"all-column search",size:"50"},null,8,["modelValue"])])])]})),default:Object(r["P"])((function(){return[(Object(r["w"])(!0),Object(r["h"])(r["a"],null,Object(r["C"])(e.selection?[1]:[],(function(e){return Object(r["w"])(),Object(r["h"])(s,{key:e,selectionMode:"multiple",headerStyle:"width: 3rem"})})),128)),Object(r["m"])(s,{field:"shortName",header:"source",sortable:!0,headerClass:"p-text-center",bodyClass:"p-text-center"}),Object(r["m"])(s,{field:"displayName",header:"name",sortable:!0}),Object(r["m"])(s,{field:"shortKey",header:"key",sortable:!0}),Object(r["m"])(s,{field:"type",header:"type",sortable:!0}),Object(r["m"])(s,{field:"facetable",header:"facet",sortable:!0})]})),_:1},8,["value","selection","multiSortMeta","filters"])):Object(r["i"])("",!0)}var u=n("0393"),o=Object(r["n"])({props:{fields:{type:Object,required:!1},selection:{type:Object,required:!1}},setup:function(e,t){var n=t.emit,a=Object(r["B"])({global:{value:null,matchMode:u["a"].CONTAINS}}),c=Object(r["B"])([{field:"shortName",order:-1},{field:"displayName",order:1}]),i=function(e){n("update:selection",e)};return{filters:a,multiSortMeta:c,setSelection:i}}});o.render=l;t["a"]=o},"8c18":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a={class:"indexes intro p-mb-6"},c=Object(r["m"])("h1",null,"Indexed fields",-1),i=Object(r["m"])("p",null,[Object(r["l"])(" The "),Object(r["m"])("a",{href:"https://developers.preservica.com/api-reference/8-content-api"},"Content API"),Object(r["l"])(" can return the indexed fields, which can be used for search facets. ")],-1),l={key:0},u={class:"json"};function o(e,t,n,o,d,s){var f=Object(r["E"])("AuthWarning"),b=Object(r["E"])("Button"),p=Object(r["E"])("IndexedFieldsTable"),h=Object(r["E"])("AccordionTab"),m=Object(r["E"])("Accordion");return Object(r["w"])(),Object(r["h"])(r["a"],null,[Object(r["m"])("div",a,[c,i,Object(r["m"])(f),e.configured?(Object(r["w"])(),Object(r["h"])(b,{key:0,icon:"pi pi-cloud-download",onClick:e.getFields,label:"Get indexed fields"},null,8,["onClick"])):Object(r["i"])("",!0)]),e.indexedFields?(Object(r["w"])(),Object(r["h"])("div",l,[Object(r["m"])(m,{activeIndex:0},{default:Object(r["P"])((function(){return[Object(r["m"])(h,{header:"Table"},{default:Object(r["P"])((function(){return[Object(r["m"])(p,{fields:e.indexedFields},null,8,["fields"])]})),_:1}),Object(r["m"])(h,{header:"JSON"},{default:Object(r["P"])((function(){return[Object(r["m"])("div",u,Object(r["I"])(e.indexedFields),1)]})),_:1})]})),_:1})])):Object(r["i"])("",!0)],64)}n("96cf");var d=n("1da1"),s=n("34f5"),f=n("212d"),b=n("d0f2"),p=n("00dc"),h=n("0393"),m=Object(r["n"])({components:{AuthWarning:s["a"],IndexedFieldsTable:f["a"]},setup:function(){var e=Object(b["b"])(),t=e.configured,n=Object(p["d"])(),a=n.getIndexedFields,c=Object(r["B"])(void 0),i=Object(r["B"])({global:{value:null,matchMode:h["a"].CONTAINS}}),l=Object(r["B"])([{field:"shortName",order:1},{field:"displayName",order:1}]),u=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:c.value=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{configured:t,indexedFields:c,filters:i,multiSortMeta:l,getFields:u}}});m.render=o;t["default"]=m},d58f:function(e,t,n){var r=n("1c0b"),a=n("7b0b"),c=n("44ad"),i=n("50c4"),l=function(e){return function(t,n,l,u){r(n);var o=a(t),d=c(o),s=i(o.length),f=e?s-1:0,b=e?-1:1;if(l<2)while(1){if(f in d){u=d[f],f+=b;break}if(f+=b,e?f<0:s<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:s>f;f+=b)f in d&&(u=n(u,d[f],f,o));return u}};e.exports={left:l(!1),right:l(!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").map,c=n("1dde"),i=n("ae40"),l=c("map"),u=i("map");r({target:"Array",proto:!0,forced:!l||!u},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=indexes.c9870cbd.js.map